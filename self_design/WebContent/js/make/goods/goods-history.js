var goods=goods||{};goods.history={_items:[],_currentItemIndex:null,_hasAfterItem:function(){return this._currentItemIndex<this._items.length-1},_hasBeforeItem:function(){return this._currentItemIndex>0},add:function(a){if(this._hasAfterItem()){this._items=this._items.slice(0,this._currentItemIndex+1)}this._items.push(a);this._currentItemIndex=this._items.length-1;return this._items.concat()},undo:function(){if(this._hasBeforeItem()){this._currentItemIndex--;return{item:this._items[this._currentItemIndex],hasBefore:this._hasBeforeItem()}}},redo:function(){if(this._hasAfterItem()){this._currentItemIndex++;return{item:this._items[this._currentItemIndex],hasAfter:this._hasAfterItem()}}},init:function(a){this._items=[a];this._currentItemIndex=0}};