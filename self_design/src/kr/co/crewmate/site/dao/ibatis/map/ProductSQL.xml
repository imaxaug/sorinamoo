<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ProductSQL">
    <typeAlias alias="product" type="kr.co.crewmate.site.model.Product"/>

    <select id="getProductList" resultClass="product" parameterClass="product">
		SELECT PRODUCT_ID productId
		     , PRODUCT_NAME productName
		     , CONCAT('http://www.marpple.com', FILE_PATH) filePath
		     , HOT hot
		     , BEST best
		  FROM PRODUCT
		 WHERE USE_YN = 'Y'
		 <isNotEmpty property="catalog">
		 AND CATALOG = #catalog#
		 </isNotEmpty>
		 <isNotEmpty property="category">
		 AND CATEGORY = #category#
		 </isNotEmpty>
    </select>

    <select id="getProductDetail" resultClass="product" parameterClass="product">
        SELECT PRODUCT_ID productId
             , PRODUCT_NAME productName
             , CONCAT('http://www.marpple.com', FILE_PATH) filePath
             , HOT hot
             , BEST best
          FROM PRODUCT
         WHERE USE_YN = 'Y'
           AND PRODUCT_ID = #productId#
    </select>

</sqlMap>